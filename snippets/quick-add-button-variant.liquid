{% comment %} Quick add button specifically for variant context - always treats as single variant {% endcomment %}
<product-form class="wt-product__add-to-cart" data-hide-errors="{{ gift_card_recipient_feature_active }}">
  <div class="product-form__error-message-wrapper" role="alert" hidden>
    <span class="product-form__error-message"></span>
  </div>
  {%- form 'product',
    product,
    id: product_form_id,
    class: 'wt-product__add-to-cart_form form',
    novalidate: 'novalidate',
    data-type: 'add-to-cart-form'
  -%}
    {% if block.settings.show_gift_card_recipient and product.gift_card? %}
      {%- render 'gift-card-recipient-form', product: product, form: form, section: section -%}
    {% endif %}
    <div class="wt-product__add-to-cart_form--wrapper">
      {% if block.settings.show_qty_selector %}
        {% render 'component-counter' %}
      {% endif %}
      <input type="hidden" name="id" value="{{ card_variant.id }}">
      <button
        aria-label="
          {%- if card_variant.available -%}
            {{ 'products.product.add_to_cart' | t }}
          {%- else -%}
            {{ 'products.product.sold_out' | t }}
          {%- endif -%}
        "
        id="ProductSubmitButton-{{ section.id }}"
        type="submit"
        name="add"
        class="button--full-width hero__button--secondary"
        {% if card_variant.available == false %}
          disabled
        {% endif %}
      >
        <span>
          {%- if card_variant.available -%}
            {{ 'products.product.add_to_cart' | t }}
          {%- else -%}
            {{ 'products.product.sold_out' | t }}
          {%- endif -%}
        </span>

        {% render 'button-loading-indicator' %}
      </button>
    </div>
  {%- endform -%}
</product-form>